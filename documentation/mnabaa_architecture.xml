<?xml version="1.0" ?>
<model xmlns="http://www.opengroup.org/xsd/archimate/3.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" identifier="id-3c4b12c7-e319-4f7a-be81-71fcdc693018" version="3.1" xsi:schemaLocation="http://www.opengroup.org/xsd/archimate/3.0/ http://www.opengroup.org/xsd/archimate/3.1/archimate3_Diagram.xsd">
  <name xml:lang="en">Mnabaa Agentic Platform</name>
  <elements>
    <element identifier="diagram1_legend-box" xsi:type="ApplicationComponent">
      <name xml:lang="en"/>
    </element>
    <element identifier="diagram1_legend-core" xsi:type="ApplicationComponent">
      <name xml:lang="en">● Core Platform</name>
    </element>
    <element identifier="diagram1_legend-gcp" xsi:type="TechnologyService">
      <name xml:lang="en">● GCP Services</name>
    </element>
    <element identifier="diagram1_legend-external" xsi:type="ApplicationComponent">
      <name xml:lang="en">● External Systems</name>
    </element>
    <element identifier="diagram1_legend-support" xsi:type="TechnologyService">
      <name xml:lang="en">● Support/Observability</name>
    </element>
    <element identifier="diagram1_fastapi-container" xsi:type="ApplicationComponent">
      <name xml:lang="en">FastAPI Server</name>
    </element>
    <element identifier="diagram1_1" xsi:type="BusinessActor">
      <name xml:lang="en">User</name>
    </element>
    <element identifier="diagram1_dlp" xsi:type="TechnologyService">
      <name xml:lang="en">Sensitive Data Protection</name>
    </element>
    <element identifier="diagram1_cloud-sql" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud SQL</name>
    </element>
    <element identifier="diagram1_2" xsi:type="ApplicationComponent">
      <name xml:lang="en">Supervisor (LangGraph)</name>
    </element>
    <element identifier="diagram1_3" xsi:type="ApplicationComponent">
      <name xml:lang="en">Researcher Agent (CrewAI)</name>
    </element>
    <element identifier="diagram1_sales-agent" xsi:type="ApplicationComponent">
      <name xml:lang="en">Salesforce Agent (CrewAI)</name>
    </element>
    <element identifier="diagram1_grouped-agents" xsi:type="ApplicationComponent">
      <name xml:lang="en">Other Agents</name>
    </element>
    <element identifier="diagram1_7" xsi:type="ApplicationComponent">
      <name xml:lang="en">RAG Tool</name>
    </element>
    <element identifier="diagram1_salesforce" xsi:type="ApplicationComponent">
      <name xml:lang="en">Salesforce (FastMCP)</name>
    </element>
    <element identifier="diagram1_langsmith" xsi:type="TechnologyService">
      <name xml:lang="en">LangGraph Monitor</name>
    </element>
    <element identifier="diagram1_cloud-logging" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud Logging</name>
    </element>
    <element identifier="diagram1_cloud-trace" xsi:type="TechnologyService">
      <name xml:lang="en">Grafana</name>
    </element>
    <element identifier="diagram2_legend-box" xsi:type="ApplicationComponent">
      <name xml:lang="en"/>
    </element>
    <element identifier="diagram2_legend-core" xsi:type="ApplicationComponent">
      <name xml:lang="en">● Core Platform</name>
    </element>
    <element identifier="diagram2_legend-gcp" xsi:type="TechnologyService">
      <name xml:lang="en">● GCP Services</name>
    </element>
    <element identifier="diagram2_legend-external" xsi:type="ApplicationComponent">
      <name xml:lang="en">● External Systems</name>
    </element>
    <element identifier="diagram2_legend-support" xsi:type="TechnologyService">
      <name xml:lang="en">● Support/Config</name>
    </element>
    <element identifier="diagram2_vpc" xsi:type="ApplicationComponent">
      <name xml:lang="en">VPC Service Control</name>
    </element>
    <element identifier="diagram2_1" xsi:type="ApplicationComponent">
      <name xml:lang="en">Frontend (NextJs)</name>
    </element>
    <element identifier="diagram2_2" xsi:type="TechnologyService">
      <name xml:lang="en">IAP Auth</name>
    </element>
    <element identifier="diagram2_bucket" xsi:type="TechnologyService">
      <name xml:lang="en">GCS Bucket</name>
    </element>
    <element identifier="diagram2_bq" xsi:type="TechnologyService">
      <name xml:lang="en">BigQuery</name>
    </element>
    <element identifier="diagram2_3" xsi:type="ApplicationComponent">
      <name xml:lang="en">Cloud Run (Orchestrator)</name>
    </element>
    <element identifier="diagram2_4" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud SQL</name>
    </element>
    <element identifier="diagram2_6" xsi:type="TechnologyService">
      <name xml:lang="en">Vertex AI</name>
    </element>
    <element identifier="diagram2_sa" xsi:type="TechnologyService">
      <name xml:lang="en">Service Account</name>
    </element>
    <element identifier="diagram2_tasks" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud Tasks</name>
    </element>
    <element identifier="diagram2_5" xsi:type="TechnologyService">
      <name xml:lang="en">Secrets</name>
    </element>
    <element identifier="diagram2_nat" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud NAT</name>
    </element>
    <element identifier="diagram2_snow" xsi:type="ApplicationComponent">
      <name xml:lang="en">ServiceNow</name>
    </element>
    <element identifier="diagram2_sales" xsi:type="ApplicationComponent">
      <name xml:lang="en">Salesforce</name>
    </element>
    <element identifier="diagram2_confluence" xsi:type="ApplicationComponent">
      <name xml:lang="en">Confluence (Atlassian Cloud)</name>
    </element>
    <element identifier="diagram2_drive" xsi:type="ApplicationComponent">
      <name xml:lang="en">Google Drive (Native)</name>
    </element>
    <element identifier="diagram2_cloud-logging" xsi:type="TechnologyService">
      <name xml:lang="en">Cloud Logging</name>
    </element>
  </elements>
  <relationships>
    <relationship identifier="diagram1_e1-dlp" source="diagram1_1" target="diagram1_dlp" xsi:type="Association"/>
    <relationship identifier="diagram1_e-dlp-2" source="diagram1_dlp" target="diagram1_2" xsi:type="Association">
      <name xml:lang="en">Filtered</name>
    </relationship>
    <relationship identifier="diagram1_e2-sql" source="diagram1_2" target="diagram1_cloud-sql" xsi:type="Access">
      <name xml:lang="en">Checkpoint</name>
    </relationship>
    <relationship identifier="diagram1_e2-1-approval" source="diagram1_2" target="diagram1_1" xsi:type="Association"/>
    <relationship identifier="diagram1_e2-3" source="diagram1_2" target="diagram1_3" xsi:type="Triggering">
      <name xml:lang="en">Delegate</name>
    </relationship>
    <relationship identifier="diagram1_e2-sales-agent" source="diagram1_2" target="diagram1_sales-agent" xsi:type="Association"/>
    <relationship identifier="diagram1_e2-grouped" source="diagram1_2" target="diagram1_grouped-agents" xsi:type="Association">
      <name xml:lang="en">Interrupt</name>
    </relationship>
    <relationship identifier="diagram1_e3-7" source="diagram1_3" target="diagram1_7" xsi:type="Association">
      <name xml:lang="en">Tool</name>
    </relationship>
    <relationship identifier="diagram1_e-sales-agent-tool" source="diagram1_sales-agent" target="diagram1_salesforce" xsi:type="Association">
      <name xml:lang="en">MCP</name>
    </relationship>
    <relationship identifier="diagram1_e2-langsmith" source="diagram1_2" target="diagram1_langsmith" xsi:type="Flow">
      <name xml:lang="en">Stream</name>
    </relationship>
    <relationship identifier="diagram1_e-langsmith-logging" source="diagram1_langsmith" target="diagram1_cloud-logging" xsi:type="Association"/>
    <relationship identifier="diagram1_e-logging-trace" source="diagram1_cloud-logging" target="diagram1_cloud-trace" xsi:type="Association"/>
    <relationship identifier="diagram2_e1-2" source="diagram2_1" target="diagram2_2" xsi:type="Flow">
      <name xml:lang="en">HTTPS</name>
    </relationship>
    <relationship identifier="diagram2_e2-3" source="diagram2_2" target="diagram2_3" xsi:type="Association">
      <name xml:lang="en">Signed JWT</name>
    </relationship>
    <relationship identifier="diagram2_e3-1-stream" source="diagram2_3" target="diagram2_1" xsi:type="Flow">
      <name xml:lang="en">SSE/Stream</name>
    </relationship>
    <relationship identifier="diagram2_e-bucket-3" source="diagram2_bucket" target="diagram2_3" xsi:type="Association">
      <name xml:lang="en">Eventarc</name>
    </relationship>
    <relationship identifier="diagram2_e3-4" source="diagram2_3" target="diagram2_4" xsi:type="Association">
      <name xml:lang="en">TLS/IAM</name>
    </relationship>
    <relationship identifier="diagram2_e3-6" source="diagram2_3" target="diagram2_6" xsi:type="Association">
      <name xml:lang="en">gRPC/IAM</name>
    </relationship>
    <relationship identifier="diagram2_e3-bq" source="diagram2_3" target="diagram2_bq" xsi:type="Association">
      <name xml:lang="en">IAM</name>
    </relationship>
    <relationship identifier="diagram2_e3-tasks" source="diagram2_3" target="diagram2_tasks" xsi:type="Association">
      <name xml:lang="en">IAM</name>
    </relationship>
    <relationship identifier="diagram2_e3-5" source="diagram2_3" target="diagram2_5" xsi:type="Association">
      <name xml:lang="en">IAM</name>
    </relationship>
    <relationship identifier="diagram2_e3-sa" source="diagram2_3" target="diagram2_sa" xsi:type="Association">
      <name xml:lang="en">Workload ID</name>
    </relationship>
    <relationship identifier="diagram2_e6-nat" source="diagram2_6" target="diagram2_nat" xsi:type="Association">
      <name xml:lang="en">Egress</name>
    </relationship>
    <relationship identifier="diagram2_e-nat-snow" source="diagram2_nat" target="diagram2_snow" xsi:type="Association">
      <name xml:lang="en">REST/OAuth</name>
    </relationship>
    <relationship identifier="diagram2_e-nat-sales" source="diagram2_nat" target="diagram2_sales" xsi:type="Association">
      <name xml:lang="en">REST/OAuth</name>
    </relationship>
    <relationship identifier="diagram2_e-nat-confluence" source="diagram2_nat" target="diagram2_confluence" xsi:type="Association">
      <name xml:lang="en">REST/OAuth</name>
    </relationship>
    <relationship identifier="diagram2_e6-drive" source="diagram2_6" target="diagram2_drive" xsi:type="Association">
      <name xml:lang="en">PSC/OAuth</name>
    </relationship>
    <relationship identifier="diagram2_e3-logging" source="diagram2_3" target="diagram2_cloud-logging" xsi:type="Association">
      <name xml:lang="en">Logs</name>
    </relationship>
  </relationships>
  <views>
    <diagrams>
      <view identifier="view-diagram1" xsi:type="Diagram">
        <name xml:lang="en">Architecture - diagram1</name>
        <node identifier="node-diagram1_legend-box" elementRef="diagram1_legend-box" xsi:type="Element" x="200" y="460" w="120" h="55"/>
        <node identifier="node-diagram1_legend-core" elementRef="diagram1_legend-core" xsi:type="Element" x="220" y="470" w="120" h="55"/>
        <node identifier="node-diagram1_legend-gcp" elementRef="diagram1_legend-gcp" xsi:type="Element" x="380" y="470" w="120" h="55"/>
        <node identifier="node-diagram1_legend-external" elementRef="diagram1_legend-external" xsi:type="Element" x="540" y="470" w="120" h="55"/>
        <node identifier="node-diagram1_legend-support" elementRef="diagram1_legend-support" xsi:type="Element" x="700" y="470" w="120" h="55"/>
        <node identifier="node-diagram1_fastapi-container" elementRef="diagram1_fastapi-container" xsi:type="Element" x="220" y="60" w="120" h="55"/>
        <node identifier="node-diagram1_1" elementRef="diagram1_1" xsi:type="Element" x="72" y="200" w="120" h="55"/>
        <node identifier="node-diagram1_dlp" elementRef="diagram1_dlp" xsi:type="Element" x="50" y="300" w="120" h="55"/>
        <node identifier="node-diagram1_cloud-sql" elementRef="diagram1_cloud-sql" xsi:type="Element" x="50" y="50" w="120" h="55"/>
        <node identifier="node-diagram1_2" elementRef="diagram1_2" xsi:type="Element" x="380" y="160" w="120" h="55"/>
        <node identifier="node-diagram1_3" elementRef="diagram1_3" xsi:type="Element" x="280" y="280" w="120" h="55"/>
        <node identifier="node-diagram1_sales-agent" elementRef="diagram1_sales-agent" xsi:type="Element" x="450" y="280" w="120" h="55"/>
        <node identifier="node-diagram1_grouped-agents" elementRef="diagram1_grouped-agents" xsi:type="Element" x="610" y="270" w="120" h="55"/>
        <node identifier="node-diagram1_7" elementRef="diagram1_7" xsi:type="Element" x="280" y="390" w="120" h="55"/>
        <node identifier="node-diagram1_salesforce" elementRef="diagram1_salesforce" xsi:type="Element" x="480" y="370" w="120" h="55"/>
        <node identifier="node-diagram1_langsmith" elementRef="diagram1_langsmith" xsi:type="Element" x="620" y="120" w="120" h="55"/>
        <node identifier="node-diagram1_cloud-logging" elementRef="diagram1_cloud-logging" xsi:type="Element" x="800" y="250" w="120" h="55"/>
        <node identifier="node-diagram1_cloud-trace" elementRef="diagram1_cloud-trace" xsi:type="Element" x="815" y="370" w="120" h="55"/>
        <connection identifier="conn-diagram1_e1-dlp" relationshipRef="diagram1_e1-dlp" source="node-diagram1_1" target="node-diagram1_dlp" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e-dlp-2" relationshipRef="diagram1_e-dlp-2" source="node-diagram1_dlp" target="node-diagram1_2" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-sql" relationshipRef="diagram1_e2-sql" source="node-diagram1_2" target="node-diagram1_cloud-sql" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-1-approval" relationshipRef="diagram1_e2-1-approval" source="node-diagram1_2" target="node-diagram1_1" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-3" relationshipRef="diagram1_e2-3" source="node-diagram1_2" target="node-diagram1_3" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-sales-agent" relationshipRef="diagram1_e2-sales-agent" source="node-diagram1_2" target="node-diagram1_sales-agent" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-grouped" relationshipRef="diagram1_e2-grouped" source="node-diagram1_2" target="node-diagram1_grouped-agents" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e3-7" relationshipRef="diagram1_e3-7" source="node-diagram1_3" target="node-diagram1_7" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e-sales-agent-tool" relationshipRef="diagram1_e-sales-agent-tool" source="node-diagram1_sales-agent" target="node-diagram1_salesforce" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e2-langsmith" relationshipRef="diagram1_e2-langsmith" source="node-diagram1_2" target="node-diagram1_langsmith" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e-langsmith-logging" relationshipRef="diagram1_e-langsmith-logging" source="node-diagram1_langsmith" target="node-diagram1_cloud-logging" xsi:type="Relationship"/>
        <connection identifier="conn-diagram1_e-logging-trace" relationshipRef="diagram1_e-logging-trace" source="node-diagram1_cloud-logging" target="node-diagram1_cloud-trace" xsi:type="Relationship"/>
      </view>
      <view identifier="view-diagram2" xsi:type="Diagram">
        <name xml:lang="en">Architecture - diagram2</name>
        <node identifier="node-diagram2_legend-box" elementRef="diagram2_legend-box" xsi:type="Element" x="150" y="500" w="120" h="55"/>
        <node identifier="node-diagram2_legend-core" elementRef="diagram2_legend-core" xsi:type="Element" x="170" y="510" w="120" h="55"/>
        <node identifier="node-diagram2_legend-gcp" elementRef="diagram2_legend-gcp" xsi:type="Element" x="330" y="510" w="120" h="55"/>
        <node identifier="node-diagram2_legend-external" elementRef="diagram2_legend-external" xsi:type="Element" x="490" y="510" w="120" h="55"/>
        <node identifier="node-diagram2_legend-support" elementRef="diagram2_legend-support" xsi:type="Element" x="650" y="510" w="120" h="55"/>
        <node identifier="node-diagram2_vpc" elementRef="diagram2_vpc" xsi:type="Element" x="200" y="20" w="120" h="55"/>
        <node identifier="node-diagram2_1" elementRef="diagram2_1" xsi:type="Element" x="0" y="200" w="120" h="55"/>
        <node identifier="node-diagram2_2" elementRef="diagram2_2" xsi:type="Element" x="0" y="320" w="120" h="55"/>
        <node identifier="node-diagram2_bucket" elementRef="diagram2_bucket" xsi:type="Element" x="230" y="60" w="120" h="55"/>
        <node identifier="node-diagram2_bq" elementRef="diagram2_bq" xsi:type="Element" x="420" y="60" w="120" h="55"/>
        <node identifier="node-diagram2_3" elementRef="diagram2_3" xsi:type="Element" x="400" y="200" w="120" h="55"/>
        <node identifier="node-diagram2_4" elementRef="diagram2_4" xsi:type="Element" x="230" y="200" w="120" h="55"/>
        <node identifier="node-diagram2_6" elementRef="diagram2_6" xsi:type="Element" x="590" y="230" w="120" h="55"/>
        <node identifier="node-diagram2_sa" elementRef="diagram2_sa" xsi:type="Element" x="200" y="350" w="120" h="55"/>
        <node identifier="node-diagram2_tasks" elementRef="diagram2_tasks" xsi:type="Element" x="400" y="350" w="120" h="55"/>
        <node identifier="node-diagram2_5" elementRef="diagram2_5" xsi:type="Element" x="560" y="350" w="120" h="55"/>
        <node identifier="node-diagram2_nat" elementRef="diagram2_nat" xsi:type="Element" x="720" y="140" w="120" h="55"/>
        <node identifier="node-diagram2_snow" elementRef="diagram2_snow" xsi:type="Element" x="880" y="50" w="120" h="55"/>
        <node identifier="node-diagram2_sales" elementRef="diagram2_sales" xsi:type="Element" x="880" y="130" w="120" h="55"/>
        <node identifier="node-diagram2_confluence" elementRef="diagram2_confluence" xsi:type="Element" x="880" y="210" w="120" h="55"/>
        <node identifier="node-diagram2_drive" elementRef="diagram2_drive" xsi:type="Element" x="720" y="350" w="120" h="55"/>
        <node identifier="node-diagram2_cloud-logging" elementRef="diagram2_cloud-logging" xsi:type="Element" x="580" y="60" w="120" h="55"/>
        <connection identifier="conn-diagram2_e1-2" relationshipRef="diagram2_e1-2" source="node-diagram2_1" target="node-diagram2_2" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e2-3" relationshipRef="diagram2_e2-3" source="node-diagram2_2" target="node-diagram2_3" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-1-stream" relationshipRef="diagram2_e3-1-stream" source="node-diagram2_3" target="node-diagram2_1" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e-bucket-3" relationshipRef="diagram2_e-bucket-3" source="node-diagram2_bucket" target="node-diagram2_3" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-4" relationshipRef="diagram2_e3-4" source="node-diagram2_3" target="node-diagram2_4" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-6" relationshipRef="diagram2_e3-6" source="node-diagram2_3" target="node-diagram2_6" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-bq" relationshipRef="diagram2_e3-bq" source="node-diagram2_3" target="node-diagram2_bq" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-tasks" relationshipRef="diagram2_e3-tasks" source="node-diagram2_3" target="node-diagram2_tasks" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-5" relationshipRef="diagram2_e3-5" source="node-diagram2_3" target="node-diagram2_5" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-sa" relationshipRef="diagram2_e3-sa" source="node-diagram2_3" target="node-diagram2_sa" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e6-nat" relationshipRef="diagram2_e6-nat" source="node-diagram2_6" target="node-diagram2_nat" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e-nat-snow" relationshipRef="diagram2_e-nat-snow" source="node-diagram2_nat" target="node-diagram2_snow" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e-nat-sales" relationshipRef="diagram2_e-nat-sales" source="node-diagram2_nat" target="node-diagram2_sales" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e-nat-confluence" relationshipRef="diagram2_e-nat-confluence" source="node-diagram2_nat" target="node-diagram2_confluence" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e6-drive" relationshipRef="diagram2_e6-drive" source="node-diagram2_6" target="node-diagram2_drive" xsi:type="Relationship"/>
        <connection identifier="conn-diagram2_e3-logging" relationshipRef="diagram2_e3-logging" source="node-diagram2_3" target="node-diagram2_cloud-logging" xsi:type="Relationship"/>
      </view>
    </diagrams>
  </views>
</model>
